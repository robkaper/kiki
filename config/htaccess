# Enable mod_rewrite.
# (required)
# It is technically possible to abuse ErrorDocument 404 to get all requests
# into router.php, however.
# @todo Consider supporting said option, thus making mod_rewrite optional.
RewriteEngine On

# Kiki htdocs files.
# (optional but recommended)
# Kiki's router can take care of this, but bypassing PHP is advised for
# performance.
RewriteRule ^/kiki/(.*)?$ /www/git/kiki/htdocs/$1 [L]

# Kiki upload storage.
# (optional but recommended)
# It is good practice to separate writeable folders from the DOCUMENT_ROOT.
# RewriteRule ^/storage/(.*)$ /www/mydomain/storage/$1 [L]

# Send everything that is not a regular directory or file to router.php
# (required)
RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-d
RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ /www/git/kiki/htdocs/router.php [L,QSA]
